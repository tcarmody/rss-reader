<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Data Points AI - Smart RSS Reader{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', path='css/styles.css') }}">
  <!-- Electron-specific styles for Mac-native experience -->
  <script>
    if (window.electronAPI && window.electronAPI.isElectron) {
      const link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = '{{ url_for("static", path="css/electron.css") }}';
      document.head.appendChild(link);
    }
  </script>
  {% block extra_head %}{% endblock %}
</head>
<body>
  <div class="app-container">
    <!-- Unified Navigation Bar -->
    {% block navigation %}
      {% include 'components/unified_nav.html' %}
    {% endblock navigation %}

    <!-- Secondary Navigation (for page-specific controls) -->
    {% block secondary_nav %}
      {% if show_paywall_toggle is not defined or show_paywall_toggle %}
        <div class="secondary-nav">
          {% include 'components/paywall_toggle.html' %}
          {% block nav_controls %}
            <!-- Page-specific controls like refresh, clear data, etc. -->
          {% endblock nav_controls %}
        </div>
      {% endif %}
    {% endblock secondary_nav %}

    <!-- Main Content -->
    <main class="main {% block main_class %}standard{% endblock %}" {% block main_attrs %}{% endblock %}>
      {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Powered by Data Points AI with Anthropic Claude API</p>
    </footer>
  </div>

  <!-- Base JavaScript -->
  <script src="{{ url_for('static', path='js/common.js') }}" defer></script>

  <!-- Electron integration (only loads if running in Electron) -->
  <script>
    if (window.electronAPI && window.electronAPI.isElectron) {
      const script = document.createElement('script');
      script.src = '{{ url_for("static", path="js/electron-integration.js") }}';
      script.defer = true;
      document.head.appendChild(script);
    }
  </script>

  {% block extra_scripts %}{% endblock %}

  <!-- Additional body content (modals, etc.) -->
  {% block extra_body %}{% endblock %}
</body>
</html>